(function(t){function e(e){for(var o,a,u=e[0],s=e[1],c=e[2],d=0,f=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,u=1;u<n.length;u++){var s=n[u];0!==r[s]&&(o=!1)}o&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},r={app:0},i=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/tone-synth/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var l=s;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"235e":function(t,e,n){"use strict";n("9063")},"3d07":function(t,e,n){"use strict";n("89b0")},"458a":function(t,e,n){},5962:function(t,e,n){"use strict";n("8f3d")},"634d":function(t,e,n){},"89b0":function(t,e,n){},"8f3d":function(t,e,n){},9063:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"settings"},[n("div",{staticClass:"power setting"},[n("v-led",{model:{value:t.power,callback:function(e){t.power=e},expression:"power"}}),n("label",[t._v("power")]),n("button",{domProps:{textContent:t._s(t.powerState)},on:{click:t.togglePower}})],1),n("div",{staticClass:"spacer"}),n("div",{staticClass:"instrument setting",class:{disabled:!t.power}},[n("label",{attrs:{for:"instrument-select"}},[t._v("instrument")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.instrument,expression:"instrument"}],attrs:{name:"instrument-select",disabled:!t.power},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.instrument=e.target.multiple?n:n[0]},t.blurMe]}},t._l(t.instruments,(function(e){return n("option",{domProps:{value:e,textContent:t._s(e.name)}})})),0)]),n("div",{staticClass:"oscillator setting",class:{disabled:!t.hasOscillator}},[n("label",{attrs:{for:"oscillator-select"}},[t._v("oscillator")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.oscillator,expression:"oscillator"}],attrs:{name:"oscillator-select",disabled:!t.hasOscillator},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.oscillator=e.target.multiple?n:n[0]},t.blurMe]}},t._l(t.oscillators,(function(e){return n("option",{domProps:{value:e,textContent:t._s(e)}})})),0)]),n("div",{staticClass:"spacer"}),t.supportsMidi?n("div",{staticClass:"midi-input setting",class:{disabled:!t.power}},[n("label",{attrs:{for:"midi-select"}},[t._v("midi input")]),n("midi-select",{attrs:{name:"midi-select",disabled:!t.power},on:{noteon:t.noteOn,noteoff:t.noteOff,change:t.blurMe}})],1):t._e(),n("a",{staticClass:"github",attrs:{href:"https://github.com/romancow/tone-synth",title:"View on GitHub"}},[n("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentColor",d:"M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"}})])])]),n("v-piano-keyboard",{attrs:{id:"my-piano",count:t.keyCount,disabled:!t.power},scopedSlots:t._u([{key:"key",fn:function(e){var o=e.note;return[n("span",{domProps:{textContent:t._s(t.noteToKeyMap[o])}})]}}]),model:{value:t.playing,callback:function(e){t.playing=e},expression:"playing"}})],1)},i=[],a=(n("99af"),n("4de4"),n("4160"),n("caad"),n("2532"),n("159b"),n("2909")),u=n("d4ec"),s=n("bee2"),c=n("262e"),l=n("2caf"),d=n("9ab4"),f=n("1b40"),p=n("5e54"),v={basic:["sine","square","sawtooth","triangle"],other:["pulse","pwm"],am:["amsine","amsquare","amsawtooth","amtriangle"],fm:["fmsine","fmsquare","fmsawtooth","fmtriangle"],fat:["fatsine","fatsquare","fatsawtooth","fattriangle"],all:[]};v.all=[].concat(Object(a["a"])(v.basic),Object(a["a"])(v.other),Object(a["a"])(v.am),Object(a["a"])(v.fm),Object(a["a"])(v.fat));var h,y=[{name:"basic",instrument:p["i"],oscillators:v.all},{name:"am",instrument:p["a"],oscillators:v.all},{name:"fm",instrument:p["c"],oscillators:v.all},{name:"mono",instrument:p["f"],oscillators:v.all},{name:"duo",instrument:p["b"]},{name:"poly",instrument:p["h"],oscillators:v.all,isPoly:!0},{name:"pluck",instrument:p["g"]},{name:"membrane",instrument:p["d"],oscillators:v.all},{name:"metal",instrument:p["e"]}];n("5db7"),n("fb6a"),n("a434"),n("73d9");function m(t,e){return null==e?t[t.length-1]:t.slice(t.length-e)}function b(t,e){return t.push(e),t}function g(t,e){return t.flatMap((function(n,o){var r,i=n===e||(null===(r=h.test(e))||void 0===r?void 0:r(n,o,t));return i?o:[]})).reverse().forEach((function(e){return t.splice(e,1)})),t}function O(t,e){var n=e+1||void 0;return t.slice(e,n)[0]}(function(t){function e(t){return t instanceof Function?t:void 0}t.test=e})(h||(h={}));n("13d5"),n("b64b");function k(t){var e=Object.keys(t);return e.reduce((function(e,n){return e[t[n]]=n,e}),{})}var w,j,C,x={q:"C3",2:"C#3",w:"D3",3:"D#3",e:"E3",r:"F3",5:"F#3",t:"G3",6:"G#3",y:"A3",7:"A#3",u:"B3",v:"C4",g:"C#4",b:"D4",h:"D#4",n:"E4",m:"F4",k:"F#4",",":"G4",l:"G#4",".":"A4",";":"A#4","/":"B4"},M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-piano-keyboard",class:{"v-piano-keyboard-disabled":t.disabled},on:{touchmove:function(e){return t.touchOvers.move(e)},touchend:function(e){return t.touchOvers.end(e)}}},t._l(t.notes,(function(e){return n("div",{key:e,staticClass:"v-piano-keyboard-key",class:t.getKeyClass(e),style:t.getKeyStyle(e),attrs:{"data-note":e},on:{mousedown:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"left",37,n.key,["Left","ArrowLeft"])||"button"in n&&0!==n.button?null:t.notedown(e)},mouseup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"left",37,n.key,["Left","ArrowLeft"])||"button"in n&&0!==n.button?null:t.noteup(e)},mouseover:function(n){1&n.buttons&&t.notedown(e)},mouseleave:function(n){1&n.buttons&&t.noteup(e)},touchstart:function(n){return n.preventDefault(),t.notedown(e)},touchend:function(n){return n.preventDefault(),t.noteup(e)},touchcancel:function(n){return t.noteup(e)},touchover:function(n){return n.stopPropagation(),t.notedown(e)},touchleave:function(n){return n.stopPropagation(),t.noteup(e)}}},[t._t("key",null,null,t.getKeySlotProps(e))],2)})),0)},_=[],P=(n("2ca0"),n("c975"),n("ac1f"),n("1276"),n("3835")),E=(n("d81d"),180/Math.PI);function T(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===e)return t;var o=(t-n)%e,r=I(t-o),i=o>=e/2;return i?r+e:r}function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.pow(10,Math.abs(e));return e<0&&(n=1/n),Math.round(t*n)/n}function A(t,e){for(var n=new Array(t),o=0;o<t;o++){var r=e.call(t,o);n.push(r)}return n}(function(t){function e(t){return t*E}function n(t){return(t%360+360)%360}t.fromRadians=e,t.minPositive=n})(w||(w={})),function(t){function e(t,e){return{from:t,to:e}}function n(t,e){var n=e.from,o=e.to;return Math.max(Math.min(t,o),n)}function o(t){var e=t.from,n=t.to;return n-e}function r(t,e,n){return t*o(n)/o(e)}t.create=e,t.clamp=n,t.span=o,t.map=r}(j||(j={})),function(t){function e(t){var e=t.split(/(-?[\d]+)$/),n=Object(P["a"])(e,2),o=n[0],r=n[1];return{note:o,octave:parseInt(r)}}function n(e,n,o){var r=e+o,i=O(t.Notes,r%t.Notes.length),a=Math.floor(r/t.Notes.length)+n;return"".concat(i).concat(a)}function o(o,r){var i=e(o),a=i.note,u=i.octave,s=t.Notes.indexOf(a);return n(s,u,r)}function r(o,r){var i=e(o),a=i.note,u=i.octave,s=t.Notes.indexOf(a);return A(r,(function(t){return n(s,u,t)}))}t.Notes=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],function(t){t["White"]="white",t["Black"]="black",t["Placeholder"]="placeholder"}(t.Type||(t.Type={})),function(t){function e(e){return e?"#"===e.charAt(1)?t.Black:t.White:t.Placeholder}t.get=e}(t.Type||(t.Type={})),t.split=e,t.transpose=o,t.getRange=r}(C||(C={}));var S,L=C;n("a630"),n("3ca3");(function(t){function e(t){var e=t.pageX,n=t.pageY;return document.elementFromPoint(e,n)}t.getOverTarget=e,function(t){function e(t){return Object.assign({},t,{changedTouches:Array.from(t.changedTouches),targetTouches:Array.from(t.targetTouches),touches:Array.from(t.touches),bubbles:!0})}function n(t,e,n){var o=new TouchEvent(t,e);n.forEach((function(t){return null===t||void 0===t?void 0:t.dispatchEvent(o)}))}function o(t){var o,r=e(t);return{touches:null!==(o=r.changedTouches)&&void 0!==o?o:[],touchleave:n.bind(t,"touchleave",r),touchover:n.bind(t,"touchover",r)}}t.getContext=o}(t.Event||(t.Event={}))})(S||(S={}));var K=function(){function t(){Object(u["a"])(this,t),this.current={}}return Object(s["a"])(t,[{key:"move",value:function(t){var e=this,n=S.Event.getContext(t),o=n.touches,r=n.touchleave,i=n.touchover,a=o.map((function(t){return e.fetch(t)})),u=o.map((function(t){return e.update(t)})),s=a.filter((function(t){return!(null!==u&&void 0!==u&&u.includes(t))})),c=u.filter((function(t){return!(null!==a&&void 0!==a&&a.includes(t))}));r(s),i(c)}},{key:"end",value:function(t){var e=this,n=S.Event.getContext(t),o=n.touches,r=n.touchleave,i=o.map((function(t){return e.remove(t)}));r(i)}},{key:"fetch",value:function(t){var e,n,o=t.identifier,r=t.target;return null!==(n=(e=this.current)[o])&&void 0!==n?n:e[o]=r}},{key:"update",value:function(t){var e=t.identifier;return this.current[e]=S.getOverTarget(t)}},{key:"remove",value:function(t){var e=t.identifier,n=S.getOverTarget(t);return delete this.current[e],n===t.target?null:n}}]),t}(),N=function(t){Object(c["a"])(n,t);var e=Object(l["a"])(n);function n(){return Object(u["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"getKeyClass",value:function(t){var e=this.model.includes(t),n=L.Type.get(t);return["v-piano-keyboard-key-".concat(n),e&&"v-piano-keyboard-key-pressed"].filter((function(t){return!!t}))}},{key:"getKeyStyle",value:function(t){var e=this.whiteKeyWidth,n=this.blackKeyWidth,o=L.Type.get(t)===L.Type.White,r=o?e:n;return{width:"calc(".concat(r,"% + 1px)"),marginLeft:"calc(-".concat(n/2,"% - 1px)")}}},{key:"getKeySlotProps",value:function(t){return{note:t,isBlack:L.Type.get(t)===L.Type.Black,pressed:this.model.includes(t)}}},{key:"notedown",value:function(t){var e=this.eventModel,n=this.disabled;n||m(e)==t||(this.$emit("notedown",t),this.model=b(g(e,t),t))}},{key:"noteup",value:function(t){var e=this.eventModel,n=this.disabled;!n&&e.includes(t)&&(this.$emit("noteup",t),this.model=g(this.eventModel,t))}},{key:"created",value:function(){this.touchOvers=new K}},{key:"notes",get:function(){var t=this.first,e=this.count;return L.getRange(t,e).flatMap((function(t){return t.startsWith("E")||t.startsWith("B")?[t,null]:t}))}},{key:"whiteKeyCount",get:function(){return this.notes.filter((function(t){return L.Type.get(t)===L.Type.White})).length}},{key:"whiteKeyWidth",get:function(){var t=this.whiteKeyCount;return Math.floor(1e4/t)/100}},{key:"blackKeyWidth",get:function(){var t=this.whiteKeyWidth;return.65*t}},{key:"eventModel",get:function(){return Object(a["a"])(this.model)}}]),n}(f["e"]);Object(d["a"])([Object(f["d"])({default:function(){return[]}})],N.prototype,"model",void 0),Object(d["a"])([Object(f["c"])({default:"C3"})],N.prototype,"first",void 0),Object(d["a"])([Object(f["c"])({default:24})],N.prototype,"count",void 0),Object(d["a"])([Object(f["c"])({default:!1})],N.prototype,"disabled",void 0),N=Object(d["a"])([f["a"]],N);var D=N,W=D,$=(n("dd1e"),n("2877")),B=Object($["a"])(W,M,_,!1,null,"14a00721",null),R=B.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-led",class:"v-led-"+t.state,style:t.style})},F=[],G=function(t){Object(c["a"])(n,t);var e=Object(l["a"])(n);function n(){return Object(u["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"state",get:function(){return this.model?"on":"off"}},{key:"style",get:function(){var t=this.model,e=this.color;return t?{backgroundColor:e,boxShadow:"0px 0px 2px ".concat(e)}:{}}}]),n}(o["a"]);Object(d["a"])([Object(f["d"])({default:!1})],G.prototype,"model",void 0),Object(d["a"])([Object(f["c"])({default:"red"})],G.prototype,"color",void 0),G=Object(d["a"])([f["a"]],G);var V=G,z=V,J=(n("3d07"),Object($["a"])(z,q,F,!1,null,"72e23921",null)),X=J.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-knob",style:t.style,on:{mousedown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.mouseTurning(e)},touchstart:function(e){return e.preventDefault(),t.touchTurning(e)}}},[n("div",{staticClass:"v-knob-tick"})])},H=[];n("7db0");function Z(t){return"string"===typeof t}var Q=30,U=j.create(-180+Q,180-Q),tt=function(t){Object(c["a"])(n,t);var e=Object(l["a"])(n);function n(){return Object(u["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"getCenter",value:function(){var t=this.$el.getBoundingClientRect(),e=t.x,n=t.y,o=t.width,r=t.height;return{x:e+o/2,y:n+r/2}}},{key:"mouseTurning",value:function(t){var e=this;window.addEventListener("mousemove",this.turn),window.addEventListener("mouseup",(function(){window.removeEventListener("mousemove",e.turn)}))}},{key:"touchTurning",value:function(t){var e=this,n=t.changedTouches[0].identifier,o=function(t){var o=Array.from(t.changedTouches).find((function(t){return t.identifier===n}));null!=o&&e.turn(o)};window.addEventListener("touchmove",o),window.addEventListener("touchend",(function(){window.removeEventListener("touchmove",o)}))}},{key:"turn",value:function(t){var e=t.clientX,n=t.clientY,o=this.getCenter(),r=o.x,i=o.y,a=this.min,u=this.max,s=this.step,c=e-r,l=i-n,d=w.fromRadians(Math.atan2(c,l));d=j.clamp(d,U),d=j.map(d,U,{from:a,to:u}),this.model=T(d,null!==s&&void 0!==s?s:0,a)}},{key:"rotation",get:function(){var t=this.model,e=this.min,n=this.max;return j.map(t,{from:e,to:n},U)}},{key:"style",get:function(){var t=this.size,e=this.rotation,n=Z(t)?t:"".concat(t,"px");return{width:n,height:n,transform:"rotate(".concat(e,"deg)")}}}]),n}(f["e"]);Object(d["a"])([Object(f["d"])({default:1})],tt.prototype,"model",void 0),Object(d["a"])([Object(f["c"])({default:25})],tt.prototype,"size",void 0),Object(d["a"])([Object(f["c"])({default:10})],tt.prototype,"max",void 0),Object(d["a"])([Object(f["c"])({default:1})],tt.prototype,"min",void 0),Object(d["a"])([Object(f["c"])({default:null})],tt.prototype,"step",void 0),tt=Object(d["a"])([f["a"]],tt);var et,nt=tt,ot=nt,rt=(n("235e"),Object($["a"])(ot,Y,H,!1,null,"152c8123",null)),it=rt.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("select",{directives:[{name:"model",rawName:"v-model.number",value:t.selectedInputIndex,expression:"selectedInputIndex",modifiers:{number:!0}}],staticClass:"midi-select",class:{"midi-supported":t.supportsMidi},attrs:{disabled:t.disabled},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var n="_value"in e?e._value:e.value;return t._n(n)}));t.selectedInputIndex=e.target.multiple?n:n[0]},function(e){return t.$emit("change",e)}]}},[n("option",{attrs:{value:""}},[t._v("none")]),t._l(t.inputs,(function(e){var o=e[0],r=e[1];return n("option",{key:o,domProps:{value:o,textContent:t._s(r.name)}})}))],2)},ut=[],st=(n("4ec9"),n("d3b7"),n("ddb0"),n("96cf"),n("1da1")),ct=60;(function(t){t[t["NoteOff"]=128]="NoteOff",t[t["NoteOn"]=144]="NoteOn"})(et||(et={}));var lt=function(t){Object(c["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(u["a"])(this,n),t=e.apply(this,arguments),t.inputMap=new Map,t.selectedInputIndex="",t}return Object(s["a"])(n,[{key:"created",value:function(){var t=Object(st["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.supportsMidi){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,navigator.requestMIDIAccess();case 4:e=t.sent,e.addEventListener("statechange",(function(){return n.onMidiStateChanged(e)})),this.onMidiStateChanged(e);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"selectedInputChanged",value:function(t,e){null===e||void 0===e||e.removeEventListener("midimessage",this.onMidiMessage),null===t||void 0===t||t.addEventListener("midimessage",this.onMidiMessage)}},{key:"onMidiStateChanged",value:function(t){this.inputMap=t.inputs,this.hasSelected&&!this.inputMap.has(this.selectedInputIndex)&&(this.selectedInputIndex="")}},{key:"onMidiMessage",value:function(t){var e=Object(P["a"])(t.data,3),n=e[0],o=e[1],r=e[2],i=L.transpose("C4",o-ct);n===et.NoteOff?this.noteoff(i):n===et.NoteOn&&(r?this.noteon(i):this.noteoff(i))}},{key:"noteon",value:function(t){}},{key:"noteoff",value:function(t){}},{key:"supportsMidi",get:function(){return!!navigator.requestMIDIAccess}},{key:"inputs",get:function(){return Array.from(this.inputMap)}},{key:"selectedInput",get:function(){var t=this.selectedInputIndex,e=this.inputMap;return t&&e.get(t)||null}},{key:"hasSelected",get:function(){return!!this.selectedInputIndex}}]),n}(f["e"]);Object(d["a"])([Object(f["c"])({default:!1})],lt.prototype,"disabled",void 0),Object(d["a"])([Object(f["f"])("selectedInput")],lt.prototype,"selectedInputChanged",null),Object(d["a"])([Object(f["b"])()],lt.prototype,"noteon",null),Object(d["a"])([Object(f["b"])()],lt.prototype,"noteoff",null),lt=Object(d["a"])([f["a"]],lt);var dt=lt,ft=dt,pt=(n("5962"),Object($["a"])(ft,at,ut,!1,null,"c3650428",null)),vt=pt.exports,ht=function(){return window.innerWidth<720?12:24},yt=function(t){Object(c["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(u["a"])(this,n),t=e.apply(this,arguments),t.playing=[],t.instruments=y,t.instrument=y[0],t.synth=null,t.keyCount=ht(),t}return Object(s["a"])(n,[{key:"isPlaying",value:function(t){var e=this.playing;return null==t?!!e.length:e.includes(t)}},{key:"togglePower",value:function(){this.power=!this.power}},{key:"blurMe",value:function(t){var e,n=t.target;null===n||void 0===n||null===(e=n.blur)||void 0===e||e.call(n)}},{key:"setSynth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.instrument,e=t.oscillators,n=void 0===e?[]:e,o=t.instrument,r=n[0],i=r?{oscillator:{type:r}}:void 0;try{var a;null===(a=this.synth)||void 0===a||a.dispose()}catch(u){console.error(u)}this.synth=new o(i).toDestination()}},{key:"noteOn",value:function(t){this.isPlaying(t)||(this.playing=[].concat(Object(a["a"])(this.playing),[t]))}},{key:"noteOff",value:function(t){this.isPlaying(t)&&(this.playing=this.playing.filter((function(e){return e!==t})))}},{key:"updatePlaying",value:function(t,e){this.power&&(this.instrument.isPoly?this.updatePlayingPolyphonic(t,e):this.updatePlayingMonophonic(t,e))}},{key:"updatePlayingMonophonic",value:function(t,e){var n=this.synth,o=m(t),r=m(e),i=!(null===n||void 0===n||!n.setNote);o!==r&&(o&&r&&i?null===n||void 0===n||n.setNote(o):o&&!e.includes(o)?null===n||void 0===n||n.triggerAttack(o):null===n||void 0===n||n.triggerRelease())}},{key:"updatePlayingPolyphonic",value:function(t,e){var n=this.synth,o=e.filter((function(e){return!t.includes(e)})),r=t.filter((function(t){return!e.includes(t)}));o.forEach((function(t){return null===n||void 0===n?void 0:n.triggerRelease(t)})),r.forEach((function(t){return null===n||void 0===n?void 0:n.triggerAttack(t)}))}},{key:"created",value:function(){var t=this;window.addEventListener("resize",(function(e){t.keyCount=ht()})),window.addEventListener("keydown",(function(e){var n=x[e.key];t.power&&null!=n&&!t.isPlaying(n)&&(t.playing=[].concat(Object(a["a"])(t.playing),[n]))})),window.addEventListener("keyup",(function(e){var n=x[e.key];t.power&&null!=n&&(t.playing=t.playing.filter((function(t){return t!==n})))}))}},{key:"power",get:function(){return null!=this.synth},set:function(t){if(t)this.setSynth();else{this.playing=[];try{var e;null===(e=this.synth)||void 0===e||e.dispose()}catch(n){console.error(n)}this.synth=null}}},{key:"oscillators",get:function(){var t,e;return null!==(t=null===(e=this.instrument)||void 0===e?void 0:e.oscillators)&&void 0!==t?t:[]}},{key:"oscillator",get:function(){var t,e,n;return(null===(t=this.synth)||void 0===t||null===(e=t.get())||void 0===e||null===(n=e.oscillator)||void 0===n?void 0:n.type)||""},set:function(t){null!=this.synth&&this.synth.set({oscillator:{type:t}})}},{key:"hasOscillator",get:function(){return!!this.oscillator}},{key:"powerState",get:function(){return this.power?"on":"off"}},{key:"isPolyphonic",get:function(){var t;return null!==(t=this.instrument.isPoly)&&void 0!==t&&t}},{key:"detune",get:function(){var t,e;return null!==(t=null===(e=this.synth)||void 0===e?void 0:e.detune.value)&&void 0!==t?t:0},set:function(t){var e=this.synth;null!=e&&(e.detune.value=t)}},{key:"noteToKeyMap",get:function(){return k(x)}},{key:"supportsMidi",get:function(){return!!navigator.requestMIDIAccess}}]),n}(f["e"]);Object(d["a"])([Object(f["f"])("instrument")],yt.prototype,"setSynth",null),Object(d["a"])([Object(f["f"])("playing")],yt.prototype,"updatePlaying",null),yt=Object(d["a"])([Object(f["a"])({components:{VPianoKeyboard:R,VLed:X,VKnob:it,MidiSelect:vt}})],yt);var mt=yt,bt=mt,gt=(n("f942"),Object($["a"])(bt,r,i,!1,null,"37439ac5",null)),Ot=gt.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(Ot)}}).$mount("#app")},dd1e:function(t,e,n){"use strict";n("634d")},f942:function(t,e,n){"use strict";n("458a")}});
//# sourceMappingURL=app.cfa0ca7e.js.map